<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:54:09 EDT 2015 -->
<title>Journal</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Journal";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Journal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalFaultInjector.html" title="class in org.apache.hadoop.hdfs.qjournal.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/qjournal/server/Journal.html" target="_top">Frames</a></li>
<li><a href="Journal.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.qjournal.server</div>
<h2 title="Class Journal" class="title">Class Journal</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.qjournal.server.Journal</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.78">Journal</a>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></pre>
<div class="block">A JournalNode can manage journals for several clusters at once.
 Each such journal is entirely independent despite being hosted by
 the same JVM.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#COMMITTED_TXID_FILENAME">COMMITTED_TXID_FILENAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/util/BestEffortLongFile.html" title="class in org.apache.hadoop.hdfs.util">BestEffortLongFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#committedTxnId">committedTxnId</a></strong></code>
<div class="block">Lower-bound on the last committed transaction ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#currentEpochIpcSerial">currentEpochIpcSerial</a></strong></code>
<div class="block">Each IPC that comes from a given client contains a serial number
 which only increases from the client's perspective.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/EditLogOutputStream.html" title="class in org.apache.hadoop.hdfs.server.namenode">EditLogOutputStream</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#curSegment">curSegment</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#curSegmentTxId">curSegmentTxId</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FileJournalManager.html" title="class in org.apache.hadoop.hdfs.server.namenode">FileJournalManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#fjm">fjm</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#highestWrittenTxId">highestWrittenTxId</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#journalId">journalId</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#LAST_PROMISED_FILENAME">LAST_PROMISED_FILENAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#LAST_WRITER_EPOCH">LAST_WRITER_EPOCH</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/util/PersistentLongFile.html" title="class in org.apache.hadoop.hdfs.util">PersistentLongFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#lastPromisedEpoch">lastPromisedEpoch</a></strong></code>
<div class="block">When a new writer comes along, it asks each node to promise
 to ignore requests from any previous writer, as identified
 by epoch number.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/util/PersistentLongFile.html" title="class in org.apache.hadoop.hdfs.util">PersistentLongFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#lastWriterEpoch">lastWriterEpoch</a></strong></code>
<div class="block">The epoch number of the last writer to actually write a transaction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalMetrics.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JournalMetrics</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#metrics">metrics</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#nextTxId">nextTxId</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JNStorage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#storage">storage</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#WARN_SYNC_MILLIS_THRESHOLD">WARN_SYNC_MILLIS_THRESHOLD</a></strong></code>
<div class="block">Time threshold for sync calls, beyond which a warning should be logged to the console.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#Journal(org.apache.hadoop.conf.Configuration,%20java.io.File,%20java.lang.String,%20org.apache.hadoop.hdfs.server.common.HdfsServerConstants.StartupOption,%20org.apache.hadoop.hdfs.server.common.StorageErrorReporter)">Journal</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
              <a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;logDir,
              <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;journalId,
              <a href="../../../../../../org/apache/hadoop/hdfs/server/common/HdfsServerConstants.StartupOption.html" title="enum in org.apache.hadoop.hdfs.server.common">HdfsServerConstants.StartupOption</a>&nbsp;startOpt,
              <a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageErrorReporter.html" title="interface in org.apache.hadoop.hdfs.server.common">StorageErrorReporter</a>&nbsp;errorReporter)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#abortCurSegment()">abortCurSegment</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#acceptRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto,%20java.net.URL)">acceptRecovery</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                            org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;segment,
                            <a href="https://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;fromUrl)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#alwaysAssert(boolean,%20java.lang.String,%20java.lang.Object...)">alwaysAssert</a></strong>(boolean&nbsp;expression,
                        <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;msg,
                        <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>...&nbsp;formatArgs)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#canRollBack(org.apache.hadoop.hdfs.server.common.StorageInfo,%20org.apache.hadoop.hdfs.server.common.StorageInfo,%20int)">canRollBack</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;storage,
                      <a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;prevStorage,
                      int&nbsp;targetLayoutVersion)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#checkFormatted()">checkFormatted</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#checkRequest(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">checkRequest</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)</code>
<div class="block">Ensure that the given request is coming from the correct writer and in-order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#checkSync(boolean,%20java.lang.String,%20java.lang.Object...)">checkSync</a></strong>(boolean&nbsp;expression,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;msg,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>...&nbsp;formatArgs)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#checkWriteRequest(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">checkWriteRequest</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#close()">close</a></strong>()</code>
<div class="block">Unlock and release resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#completeHalfDoneAcceptRecovery(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData)">completeHalfDoneAcceptRecovery</a></strong>(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData&nbsp;paxosData)</code>
<div class="block">In the case the node crashes in between downloading a log segment
 and persisting the associated paxos recovery data, the log segment
 will be left in its temporary location on disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#discardSegments(long)">discardSegments</a></strong>(long&nbsp;startTxId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#doFinalize()">doFinalize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#doPreUpgrade()">doPreUpgrade</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#doRollback()">doRollback</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#doUpgrade(org.apache.hadoop.hdfs.server.common.StorageInfo)">doUpgrade</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;sInfo)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#finalizeLogSegment(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long,%20long)">finalizeLogSegment</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                                    long&nbsp;startTxId,
                                    long&nbsp;endTxId)</code>
<div class="block">Finalize the log segment at the given transaction ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#format(org.apache.hadoop.hdfs.server.protocol.NamespaceInfo)">format</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/NamespaceInfo.html" title="class in org.apache.hadoop.hdfs.server.protocol">NamespaceInfo</a>&nbsp;nsInfo)</code>
<div class="block">Format the local storage with the given namespace.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getCommittedTxnIdForTests()">getCommittedTxnIdForTests</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getCurrentLagTxns()">getCurrentLagTxns</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/RemoteEditLogManifest.html" title="class in org.apache.hadoop.hdfs.server.protocol">RemoteEditLogManifest</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getEditLogManifest(long,%20boolean)">getEditLogManifest</a></strong>(long&nbsp;sinceTxId,
                                    boolean&nbsp;inProgressOk)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getHighestWrittenTxId()">getHighestWrittenTxId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getJournalCTime()">getJournalCTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getJournalId()">getJournalId</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getLastPromisedEpoch()">getLastPromisedEpoch</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getLastWriterEpoch()">getLastWriterEpoch</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalMetrics.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JournalMetrics</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getMetricsForTests()">getMetricsForTests</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getPersistedPaxosData(long)">getPersistedPaxosData</a></strong>(long&nbsp;segmentTxId)</code>
<div class="block">Retrieve the persisted data for recovering the given segment from disk.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getSegmentInfo(long)">getSegmentInfo</a></strong>(long&nbsp;segmentTxId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JNStorage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#getStorage()">getStorage</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#heartbeat(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">heartbeat</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#isFormatted()">isFormatted</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#journal(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long,%20long,%20int,%20byte[])">journal</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
              long&nbsp;segmentTxId,
              long&nbsp;firstTxnId,
              int&nbsp;numTxns,
              byte[]&nbsp;records)</code>
<div class="block">Write a batch of edits to the journal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.NewEpochResponseProto</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#newEpoch(org.apache.hadoop.hdfs.server.protocol.NamespaceInfo,%20long)">newEpoch</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/NamespaceInfo.html" title="class in org.apache.hadoop.hdfs.server.protocol">NamespaceInfo</a>&nbsp;nsInfo,
                long&nbsp;epoch)</code>
<div class="block">Try to create a new epoch for this journal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#persistPaxosData(long,%20org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData)">persistPaxosData</a></strong>(long&nbsp;segmentTxId,
                                org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData&nbsp;newData)</code>
<div class="block">Persist data for recovering the given segment from disk.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PrepareRecoveryResponseProto</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#prepareRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long)">prepareRecovery</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                              long&nbsp;segmentTxId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#purgeLogsOlderThan(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long)">purgeLogsOlderThan</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                                    long&nbsp;minTxIdToKeep)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#purgePaxosDecision(long)">purgePaxosDecision</a></strong>(long&nbsp;segmentTxId)</code>
<div class="block">Remove the previously-recorded 'accepted recovery' information
 for a given log segment, once it is no longer necessary.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#refreshCachedData()">refreshCachedData</a></strong>()</code>
<div class="block">Reload any data that may have been cached.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FileJournalManager.EditLogFile.html" title="class in org.apache.hadoop.hdfs.server.namenode">FileJournalManager.EditLogFile</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#scanStorageForLatestEdits()">scanStorageForLatestEdits</a></strong>()</code>
<div class="block">Scan the local storage directory, and return the segment containing
 the highest transaction.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#startLogSegment(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long,%20int)">startLogSegment</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                              long&nbsp;txid,
                              int&nbsp;layoutVersion)</code>
<div class="block">Start a new segment at the given txid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#syncLog(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto,%20java.net.URL)">syncLog</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
              org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;segment,
              <a href="https://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;url)</code>
<div class="block">Synchronize a log segment from another JournalNode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.commons.lang.math.LongRange</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#txnRange(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto)">txnRange</a></strong>(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;seg)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/Journal.html#updateLastPromisedEpoch(long)">updateLastPromisedEpoch</a></strong>(long&nbsp;newEpoch)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>static final&nbsp;org.apache.commons.logging.Log <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.79">LOG</a></pre>
</li>
</ul>
<a name="curSegment">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>curSegment</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/EditLogOutputStream.html" title="class in org.apache.hadoop.hdfs.server.namenode">EditLogOutputStream</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.83">curSegment</a></pre>
</li>
</ul>
<a name="curSegmentTxId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>curSegmentTxId</h4>
<pre>private&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.84">curSegmentTxId</a></pre>
</li>
</ul>
<a name="nextTxId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextTxId</h4>
<pre>private&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.85">nextTxId</a></pre>
</li>
</ul>
<a name="highestWrittenTxId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>highestWrittenTxId</h4>
<pre>private&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.86">highestWrittenTxId</a></pre>
</li>
</ul>
<a name="journalId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journalId</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.88">journalId</a></pre>
</li>
</ul>
<a name="storage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storage</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JNStorage</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.90">storage</a></pre>
</li>
</ul>
<a name="lastPromisedEpoch">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastPromisedEpoch</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/util/PersistentLongFile.html" title="class in org.apache.hadoop.hdfs.util">PersistentLongFile</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.98">lastPromisedEpoch</a></pre>
<div class="block">When a new writer comes along, it asks each node to promise
 to ignore requests from any previous writer, as identified
 by epoch number. In order to make such a promise, the epoch
 number of that writer is stored persistently on disk.</div>
</li>
</ul>
<a name="currentEpochIpcSerial">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentEpochIpcSerial</h4>
<pre>private&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.109">currentEpochIpcSerial</a></pre>
<div class="block">Each IPC that comes from a given client contains a serial number
 which only increases from the client's perspective. Whenever
 we switch epochs, we reset this back to -1. Whenever an IPC
 comes from a client, we ensure that it is strictly higher
 than any previous IPC. This guards against any bugs in the IPC
 layer that would re-order IPCs or cause a stale retry from an old
 request to resurface and confuse things.</div>
</li>
</ul>
<a name="lastWriterEpoch">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastWriterEpoch</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/util/PersistentLongFile.html" title="class in org.apache.hadoop.hdfs.util">PersistentLongFile</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.117">lastWriterEpoch</a></pre>
<div class="block">The epoch number of the last writer to actually write a transaction.
 This is used to differentiate log segments after a crash at the very
 beginning of a segment. See the the 'testNewerVersionOfSegmentWins'
 test case.</div>
</li>
</ul>
<a name="committedTxnId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>committedTxnId</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/util/BestEffortLongFile.html" title="class in org.apache.hadoop.hdfs.util">BestEffortLongFile</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.125">committedTxnId</a></pre>
<div class="block">Lower-bound on the last committed transaction ID. This is not
 depended upon for correctness, but acts as a sanity check
 during the recovery procedures, and as a visibility mark
 for clients reading in-progress logs.</div>
</li>
</ul>
<a name="LAST_PROMISED_FILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LAST_PROMISED_FILENAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.127">LAST_PROMISED_FILENAME</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.qjournal.server.Journal.LAST_PROMISED_FILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="LAST_WRITER_EPOCH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LAST_WRITER_EPOCH</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.128">LAST_WRITER_EPOCH</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.qjournal.server.Journal.LAST_WRITER_EPOCH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="COMMITTED_TXID_FILENAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>COMMITTED_TXID_FILENAME</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.129">COMMITTED_TXID_FILENAME</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.qjournal.server.Journal.COMMITTED_TXID_FILENAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="fjm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fjm</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FileJournalManager.html" title="class in org.apache.hadoop.hdfs.server.namenode">FileJournalManager</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.131">fjm</a></pre>
</li>
</ul>
<a name="metrics">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metrics</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalMetrics.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JournalMetrics</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.133">metrics</a></pre>
</li>
</ul>
<a name="WARN_SYNC_MILLIS_THRESHOLD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WARN_SYNC_MILLIS_THRESHOLD</h4>
<pre>private static final&nbsp;int <a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.138">WARN_SYNC_MILLIS_THRESHOLD</a></pre>
<div class="block">Time threshold for sync calls, beyond which a warning should be logged to the console.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.qjournal.server.Journal.WARN_SYNC_MILLIS_THRESHOLD">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Journal(org.apache.hadoop.conf.Configuration, java.io.File, java.lang.String, org.apache.hadoop.hdfs.server.common.HdfsServerConstants.StartupOption, org.apache.hadoop.hdfs.server.common.StorageErrorReporter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Journal</h4>
<pre><a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.140">Journal</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
       <a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;logDir,
       <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;journalId,
       <a href="../../../../../../org/apache/hadoop/hdfs/server/common/HdfsServerConstants.StartupOption.html" title="enum in org.apache.hadoop.hdfs.server.common">HdfsServerConstants.StartupOption</a>&nbsp;startOpt,
       <a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageErrorReporter.html" title="interface in org.apache.hadoop.hdfs.server.common">StorageErrorReporter</a>&nbsp;errorReporter)
  throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="refreshCachedData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshCachedData</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.163">refreshCachedData</a>()</pre>
<div class="block">Reload any data that may have been cached. This is necessary
 when we first load the Journal, but also after any formatting
 operation, since the cached data is no longer relevant.</div>
</li>
</ul>
<a name="scanStorageForLatestEdits()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanStorageForLatestEdits</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FileJournalManager.EditLogFile.html" title="class in org.apache.hadoop.hdfs.server.namenode">FileJournalManager.EditLogFile</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.182">scanStorageForLatestEdits</a>()
                                                          throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Scan the local storage directory, and return the segment containing
 the highest transaction.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the EditLogFile with the highest transactions, or null
 if no files exist.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="format(org.apache.hadoop.hdfs.server.protocol.NamespaceInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.211">format</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/NamespaceInfo.html" title="class in org.apache.hadoop.hdfs.server.protocol">NamespaceInfo</a>&nbsp;nsInfo)
      throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Format the local storage with the given namespace.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.225">close</a>()
           throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unlock and release resources.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true#close()" title="class or interface in java.io">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html?is-external=true" title="class or interface in java.io">Closeable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close()" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getStorage()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorage</h4>
<pre><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JNStorage</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.231">getStorage</a>()</pre>
</li>
</ul>
<a name="getJournalId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJournalId</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.235">getJournalId</a>()</pre>
</li>
</ul>
<a name="getLastPromisedEpoch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastPromisedEpoch</h4>
<pre>long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.243">getLastPromisedEpoch</a>()
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the last epoch which this node has promised not to accept
 any lower epoch, or 0 if no promises have been made.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getLastWriterEpoch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastWriterEpoch</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.248">getLastWriterEpoch</a>()
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCommittedTxnIdForTests()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommittedTxnIdForTests</h4>
<pre>long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.253">getCommittedTxnIdForTests</a>()
                         throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCurrentLagTxns()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentLagTxns</h4>
<pre>long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.257">getCurrentLagTxns</a>()
                 throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHighestWrittenTxId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHighestWrittenTxId</h4>
<pre>long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.266">getHighestWrittenTxId</a>()</pre>
</li>
</ul>
<a name="getMetricsForTests()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetricsForTests</h4>
<pre><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalMetrics.html" title="class in org.apache.hadoop.hdfs.qjournal.server">JournalMetrics</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.271">getMetricsForTests</a>()</pre>
</li>
</ul>
<a name="newEpoch(org.apache.hadoop.hdfs.server.protocol.NamespaceInfo, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEpoch</h4>
<pre>org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.NewEpochResponseProto&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.285">newEpoch</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/NamespaceInfo.html" title="class in org.apache.hadoop.hdfs.server.protocol">NamespaceInfo</a>&nbsp;nsInfo,
                                                                                             long&nbsp;epoch)
                                                                                         throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Try to create a new epoch for this journal.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nsInfo</code> - the namespace, which is verified for consistency or used to
 format, if the Journal has not yet been written to.</dd><dd><code>epoch</code> - the epoch to start</dd>
<dt><span class="strong">Returns:</span></dt><dd>the status information necessary to begin recovery</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the node has already made a promise to another
 writer with a higher epoch number, if the namespace is inconsistent,
 or if a disk error occurs.</dd></dl>
</li>
</ul>
<a name="updateLastPromisedEpoch(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLastPromisedEpoch</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.313">updateLastPromisedEpoch</a>(long&nbsp;newEpoch)
                              throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="abortCurSegment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortCurSegment</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.323">abortCurSegment</a>()
                      throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="journal(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, long, long, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>journal</h4>
<pre>void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.337">journal</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
           long&nbsp;segmentTxId,
           long&nbsp;firstTxnId,
           int&nbsp;numTxns,
           byte[]&nbsp;records)
       throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Write a batch of edits to the journal.
 <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/QJournalProtocol.html#journal(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long,%20long,%20int,%20byte[])"><code>QJournalProtocol.journal(RequestInfo, long, long, int, byte[])</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="heartbeat(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>heartbeat</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.406">heartbeat</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)
               throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="checkRequest(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkRequest</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.415">checkRequest</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)
                   throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Ensure that the given request is coming from the correct writer and in-order.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reqInfo</code> - the request info</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the request is invalid.</dd></dl>
</li>
</ul>
<a name="checkWriteRequest(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkWriteRequest</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.445">checkWriteRequest</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo)
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="isFormatted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFormatted</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.455">isFormatted</a>()</pre>
</li>
</ul>
<a name="checkFormatted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkFormatted</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.459">checkFormatted</a>()
                     throws <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/JournalNotFormattedException.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">JournalNotFormattedException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/JournalNotFormattedException.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">JournalNotFormattedException</a></code></dd></dl>
</li>
</ul>
<a name="checkSync(boolean, java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSync</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.471">checkSync</a>(boolean&nbsp;expression,
             <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;msg,
             <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>...&nbsp;formatArgs)
                throws <a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/JournalOutOfSyncException.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">JournalOutOfSyncException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/JournalOutOfSyncException.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">JournalOutOfSyncException</a></code> - if the given expression is not true.
 The message of the exception is formatted using the 'msg' and
 'formatArgs' parameters.</dd></dl>
</li>
</ul>
<a name="alwaysAssert(boolean, java.lang.String, java.lang.Object...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alwaysAssert</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.487">alwaysAssert</a>(boolean&nbsp;expression,
                <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;msg,
                <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>...&nbsp;formatArgs)</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/AssertionError.html?is-external=true" title="class or interface in java.lang">AssertionError</a></code> - if the given expression is not true.
 The message of the exception is formatted using the 'msg' and
 'formatArgs' parameters.
 
 This should be used in preference to Java's built-in assert in
 non-performance-critical paths, where a failure of this invariant
 might cause the protocol to lose data.</dd></dl>
</li>
</ul>
<a name="startLogSegment(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startLogSegment</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.498">startLogSegment</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                   long&nbsp;txid,
                   int&nbsp;layoutVersion)
                     throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Start a new segment at the given txid. The previous segment
 must have already been finalized.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="finalizeLogSegment(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeLogSegment</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.556">finalizeLogSegment</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                      long&nbsp;startTxId,
                      long&nbsp;endTxId)
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Finalize the log segment at the given transaction ID.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="purgeLogsOlderThan(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeLogsOlderThan</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.614">purgeLogsOlderThan</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                      long&nbsp;minTxIdToKeep)
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/LogsPurgeable.html#purgeLogsOlderThan(long)"><code>LogsPurgeable.purgeLogsOlderThan(long)</code></a></dd></dl>
</li>
</ul>
<a name="purgePaxosDecision(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgePaxosDecision</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.628">purgePaxosDecision</a>(long&nbsp;segmentTxId)
                         throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Remove the previously-recorded 'accepted recovery' information
 for a given log segment, once it is no longer necessary.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>segmentTxId</code> - the transaction ID to purge</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the file could not be deleted</dd></dl>
</li>
</ul>
<a name="getEditLogManifest(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEditLogManifest</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/protocol/RemoteEditLogManifest.html" title="class in org.apache.hadoop.hdfs.server.protocol">RemoteEditLogManifest</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.640">getEditLogManifest</a>(long&nbsp;sinceTxId,
                                       boolean&nbsp;inProgressOk)
                                         throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/QJournalProtocol.html#getEditLogManifest(java.lang.String,%20long,%20boolean)"><code>QJournalProtocol.getEditLogManifest(String, long, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="getSegmentInfo(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSegmentInfo</h4>
<pre>org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.671">getSegmentInfo</a>(long&nbsp;segmentTxId)
                                                                                           throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current state of the given segment, or null if the
 segment does not exist.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="prepareRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareRecovery</h4>
<pre>public&nbsp;org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PrepareRecoveryResponseProto&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.699">prepareRecovery</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                                                                                                           long&nbsp;segmentTxId)
                                                                                                             throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/QJournalProtocol.html#prepareRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20long)"><code>QJournalProtocol.prepareRecovery(RequestInfo, long)</code></a></dd></dl>
</li>
</ul>
<a name="acceptRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto, java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptRecovery</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.743">acceptRecovery</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
                  org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;segment,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;fromUrl)
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/QJournalProtocol.html#acceptRecovery(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo,%20org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto,%20java.net.URL)"><code>QJournalProtocol.acceptRecovery(RequestInfo, QJournalProtocolProtos.SegmentStateProto, URL)</code></a></dd></dl>
</li>
</ul>
<a name="txnRange(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>txnRange</h4>
<pre>private&nbsp;org.apache.commons.lang.math.LongRange&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.858">txnRange</a>(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;seg)</pre>
</li>
</ul>
<a name="syncLog(org.apache.hadoop.hdfs.qjournal.protocol.RequestInfo, org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto, java.net.URL)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncLog</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.871">syncLog</a>(<a href="../../../../../../org/apache/hadoop/hdfs/qjournal/protocol/RequestInfo.html" title="class in org.apache.hadoop.hdfs.qjournal.protocol">RequestInfo</a>&nbsp;reqInfo,
           org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.SegmentStateProto&nbsp;segment,
           <a href="https://docs.oracle.com/javase/7/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>&nbsp;url)
              throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Synchronize a log segment from another JournalNode. The log is
 downloaded from the provided URL into a temporary location on disk,
 which is named based on the current request's epoch.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the temporary location of the downloaded file</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="completeHalfDoneAcceptRecovery(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completeHalfDoneAcceptRecovery</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.921">completeHalfDoneAcceptRecovery</a>(org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData&nbsp;paxosData)
                                     throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">In the case the node crashes in between downloading a log segment
 and persisting the associated paxos recovery data, the log segment
 will be left in its temporary location on disk. Given the paxos data,
 we can check if this was indeed the case, and &quot;roll forward&quot;
 the atomic operation.
 
 See the inline comments in
 <code>#acceptRecovery(RequestInfo, SegmentStateProto, URL)</code> for more
 details.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the temporary file is unable to be renamed into
 place</dd></dl>
</li>
</ul>
<a name="getPersistedPaxosData(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPersistedPaxosData</h4>
<pre>private&nbsp;org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.943">getPersistedPaxosData</a>(long&nbsp;segmentTxId)
                                                                                                                  throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Retrieve the persisted data for recovering the given segment from disk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="persistPaxosData(long, org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistPaxosData</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.967">persistPaxosData</a>(long&nbsp;segmentTxId,
                    org.apache.hadoop.hdfs.qjournal.protocol.QJournalProtocolProtos.PersistedRecoveryPaxosData&nbsp;newData)
                       throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Persist data for recovering the given segment from disk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="discardSegments(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardSegments</h4>
<pre>void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.994">discardSegments</a>(long&nbsp;startTxId)
               throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doPreUpgrade()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPreUpgrade</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1000">doPreUpgrade</a>()
                  throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doUpgrade(org.apache.hadoop.hdfs.server.common.StorageInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doUpgrade</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1007">doUpgrade</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;sInfo)
               throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doFinalize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doFinalize</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1049">doFinalize</a>()
                throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="canRollBack(org.apache.hadoop.hdfs.server.common.StorageInfo, org.apache.hadoop.hdfs.server.common.StorageInfo, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canRollBack</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Boolean.html?is-external=true" title="class or interface in java.lang">Boolean</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1058">canRollBack</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;storage,
                  <a href="../../../../../../org/apache/hadoop/hdfs/server/common/StorageInfo.html" title="class in org.apache.hadoop.hdfs.server.common">StorageInfo</a>&nbsp;prevStorage,
                  int&nbsp;targetLayoutVersion)
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doRollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRollback</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1064">doRollback</a>()
                throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getJournalCTime()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getJournalCTime</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/qjournal/server/Journal.html#line.1071">getJournalCTime</a>()
                     throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Journal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JNStorage.html" title="class in org.apache.hadoop.hdfs.qjournal.server"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/qjournal/server/JournalFaultInjector.html" title="class in org.apache.hadoop.hdfs.qjournal.server"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/qjournal/server/Journal.html" target="_top">Frames</a></li>
<li><a href="Journal.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
