<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:40:15 EDT 2015 -->
<title>CorruptReplicasMap</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CorruptReplicasMap";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CorruptReplicasMap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CacheReplicationMonitor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html" target="_top">Frames</a></li>
<li><a href="CorruptReplicasMap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.blockmanagement</div>
<h2 title="Class CorruptReplicasMap" class="title">Class CorruptReplicasMap</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.blockmanagement.CorruptReplicasMap</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@InterfaceAudience.Private
public class <span class="strong">CorruptReplicasMap</span>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Stores information about all corrupt blocks in the File System.
 A Block is considered corrupt only if all of its replicas are
 corrupt. While reporting replicas of a Block, we hide any corrupt
 copies. These copies are removed once Block is found to have 
 expected number of good replicas.
 Mapping: Block -> TreeSet<DatanodeDescriptor></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a></strong></code>
<div class="block">The corruption reason code</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>,<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#corruptReplicasMap">corruptReplicasMap</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#CorruptReplicasMap()">CorruptReplicasMap</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#addToCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block,%20org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor,%20java.lang.String,%20org.apache.hadoop.hdfs.server.blockmanagement.CorruptReplicasMap.Reason)">addToCorruptReplicasMap</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                       <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;dn,
                       <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reason,
                       <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&nbsp;reasonCode)</code>
<div class="block">Mark the block belonging to datanode as corrupt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#getCorruptReason(org.apache.hadoop.hdfs.protocol.Block,%20org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">getCorruptReason</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;block,
                <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;node)</code>
<div class="block">return the reason about corrupted replica for a given block
 on a given dn</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#getCorruptReplicaBlockIds(int,%20java.lang.Long)">getCorruptReplicaBlockIds</a></strong>(int&nbsp;numExpectedBlocks,
                         <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;startingBlockId)</code>
<div class="block">Return a range of corrupt replica block ids.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#getNodes(org.apache.hadoop.hdfs.protocol.Block)">getNodes</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</code>
<div class="block">Get Nodes which have corrupt replicas of Block</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#isReplicaCorrupt(org.apache.hadoop.hdfs.protocol.Block,%20org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">isReplicaCorrupt</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;node)</code>
<div class="block">Check if replica belonging to Datanode is corrupt</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#numCorruptReplicas(org.apache.hadoop.hdfs.protocol.Block)">numCorruptReplicas</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block)">removeFromCorruptReplicasMap</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</code>
<div class="block">Remove Block from CorruptBlocksMap</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block,%20org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">removeFromCorruptReplicasMap</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;datanode)</code>
<div class="block">Remove the block at the given datanode from CorruptBlockMap</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block,%20org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor,%20org.apache.hadoop.hdfs.server.blockmanagement.CorruptReplicasMap.Reason)">removeFromCorruptReplicasMap</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;datanode,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&nbsp;reason)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html#size()">size</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="corruptReplicasMap">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>corruptReplicasMap</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>,<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&gt;&gt; corruptReplicasMap</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CorruptReplicasMap()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CorruptReplicasMap</h4>
<pre>public&nbsp;CorruptReplicasMap()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addToCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor, java.lang.String, org.apache.hadoop.hdfs.server.blockmanagement.CorruptReplicasMap.Reason)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToCorruptReplicasMap</h4>
<pre>void&nbsp;addToCorruptReplicasMap(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                           <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;dn,
                           <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;reason,
                           <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&nbsp;reasonCode)</pre>
<div class="block">Mark the block belonging to datanode as corrupt.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - Block to be added to CorruptReplicasMap</dd><dd><code>dn</code> - DatanodeDescriptor which holds the corrupt replica</dd><dd><code>reason</code> - a textual reason (for logging purposes)</dd><dd><code>reasonCode</code> - the enum representation of the reason</dd></dl>
</li>
</ul>
<a name="removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromCorruptReplicasMap</h4>
<pre>void&nbsp;removeFromCorruptReplicasMap(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</pre>
<div class="block">Remove Block from CorruptBlocksMap</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - Block to be removed</dd></dl>
</li>
</ul>
<a name="removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromCorruptReplicasMap</h4>
<pre>boolean&nbsp;removeFromCorruptReplicasMap(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                                   <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;datanode)</pre>
<div class="block">Remove the block at the given datanode from CorruptBlockMap</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - block to be removed</dd><dd><code>datanode</code> - datanode where the block is located</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the removal is successful; 
             false if the replica is not in the map</dd></dl>
</li>
</ul>
<a name="removeFromCorruptReplicasMap(org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor, org.apache.hadoop.hdfs.server.blockmanagement.CorruptReplicasMap.Reason)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromCorruptReplicasMap</h4>
<pre>boolean&nbsp;removeFromCorruptReplicasMap(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                                   <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;datanode,
                                   <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement">CorruptReplicasMap.Reason</a>&nbsp;reason)</pre>
</li>
</ul>
<a name="getNodes(org.apache.hadoop.hdfs.protocol.Block)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodes</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&gt;&nbsp;getNodes(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</pre>
<div class="block">Get Nodes which have corrupt replicas of Block</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - Block for which nodes are requested</dd>
<dt><span class="strong">Returns:</span></dt><dd>collection of nodes. Null if does not exists</dd></dl>
</li>
</ul>
<a name="isReplicaCorrupt(org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReplicaCorrupt</h4>
<pre>boolean&nbsp;isReplicaCorrupt(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk,
                       <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;node)</pre>
<div class="block">Check if replica belonging to Datanode is corrupt</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>blk</code> - Block to check</dd><dd><code>node</code> - DatanodeDescriptor which holds the replica</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if replica is corrupt, false if does not exists in this map</dd></dl>
</li>
</ul>
<a name="numCorruptReplicas(org.apache.hadoop.hdfs.protocol.Block)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numCorruptReplicas</h4>
<pre>int&nbsp;numCorruptReplicas(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;blk)</pre>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>int&nbsp;size()</pre>
</li>
</ul>
<a name="getCorruptReplicaBlockIds(int, java.lang.Long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCorruptReplicaBlockIds</h4>
<pre>long[]&nbsp;getCorruptReplicaBlockIds(int&nbsp;numExpectedBlocks,
                               <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;startingBlockId)</pre>
<div class="block">Return a range of corrupt replica block ids. Up to numExpectedBlocks 
 blocks starting at the next block after startingBlockId are returned
 (fewer if numExpectedBlocks blocks are unavailable). If startingBlockId 
 is null, up to numExpectedBlocks blocks are returned from the beginning.
 If startingBlockId cannot be found, null is returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>numExpectedBlocks</code> - Number of block ids to return.
  0 <= numExpectedBlocks <= 100</dd><dd><code>startingBlockId</code> - Block id from which to start. If null, start at
  beginning.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Up to numExpectedBlocks blocks from startingBlockId if it exists</dd></dl>
</li>
</ul>
<a name="getCorruptReason(org.apache.hadoop.hdfs.protocol.Block, org.apache.hadoop.hdfs.server.blockmanagement.DatanodeDescriptor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCorruptReason</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getCorruptReason(<a href="../../../../../../org/apache/hadoop/hdfs/protocol/Block.html" title="class in org.apache.hadoop.hdfs.protocol">Block</a>&nbsp;block,
                      <a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/DatanodeDescriptor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement">DatanodeDescriptor</a>&nbsp;node)</pre>
<div class="block">return the reason about corrupted replica for a given block
 on a given dn</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>block</code> - block that has corrupted replica</dd><dd><code>node</code> - datanode that contains this corrupted replica</dd>
<dt><span class="strong">Returns:</span></dt><dd>reason</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CorruptReplicasMap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CacheReplicationMonitor.html" title="class in org.apache.hadoop.hdfs.server.blockmanagement"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.Reason.html" title="enum in org.apache.hadoop.hdfs.server.blockmanagement"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/blockmanagement/CorruptReplicasMap.html" target="_top">Frames</a></li>
<li><a href="CorruptReplicasMap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
