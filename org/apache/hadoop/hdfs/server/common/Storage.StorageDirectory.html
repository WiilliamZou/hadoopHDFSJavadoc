<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:53:48 EDT 2015 -->
<title>Storage.StorageDirectory</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Storage.StorageDirectory";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Storage.StorageDirectory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html" target="_top">Frames</a></li>
<li><a href="Storage.StorageDirectory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.common</div>
<h2 title="Class Storage.StorageDirectory" class="title">Class Storage.StorageDirectory</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.common.Storage.StorageDirectory</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.FormatConfirmable</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.html" title="class in org.apache.hadoop.hdfs.server.common">Storage</a></dd>
</dl>
<hr>
<br>
<pre>@InterfaceAudience.Private
public static class <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.html#line.258">Storage.StorageDirectory</a>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.FormatConfirmable</a></pre>
<div class="block">One of the storage directories.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#dirType">dirType</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#isShared">isShared</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileLock.html?is-external=true" title="class or interface in java.nio.channels">FileLock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#lock">lock</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#root">root</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#storageUuid">storageUuid</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#Storage.StorageDirectory(java.io.File)">Storage.StorageDirectory</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#Storage.StorageDirectory(java.io.File,%20org.apache.hadoop.hdfs.server.common.Storage.StorageDirType)">Storage.StorageDirectory</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir,
                                                <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a>&nbsp;dirType)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#Storage.StorageDirectory(java.io.File,%20org.apache.hadoop.hdfs.server.common.Storage.StorageDirType,%20boolean)">Storage.StorageDirectory</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir,
                                                <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a>&nbsp;dirType,
                                                boolean&nbsp;isShared)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageState.html" title="enum in org.apache.hadoop.hdfs.server.common">Storage.StorageState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#analyzeStorage(org.apache.hadoop.hdfs.server.common.HdfsServerConstants.StartupOption,%20org.apache.hadoop.hdfs.server.common.Storage)">analyzeStorage</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/HdfsServerConstants.StartupOption.html" title="enum in org.apache.hadoop.hdfs.server.common">HdfsServerConstants.StartupOption</a>&nbsp;startOpt,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.html" title="class in org.apache.hadoop.hdfs.server.common">Storage</a>&nbsp;storage)</code>
<div class="block">Check consistency of the storage directory</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#clearDirectory()">clearDirectory</a></strong>()</code>
<div class="block">Clear and re-create storage directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#doRecover(org.apache.hadoop.hdfs.server.common.Storage.StorageState)">doRecover</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageState.html" title="enum in org.apache.hadoop.hdfs.server.common">Storage.StorageState</a>&nbsp;curState)</code>
<div class="block">Complete or recover storage state from previously failed transition.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getCurrentDir()">getCurrentDir</a></strong>()</code>
<div class="block">Directory <code>current</code> contains latest files defining
 the file system meta-data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getFinalizedTmp()">getFinalizedTmp</a></strong>()</code>
<div class="block"><code>finalized.tmp</code> is a transient directory, which holds
 the <code>previous</code> file system state while it is being removed
 in response to the finalize request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getLastCheckpointTmp()">getLastCheckpointTmp</a></strong>()</code>
<div class="block"><code>lastcheckpoint.tmp</code> is a transient directory, which holds
 current file system state while the new state is saved into the new
 <code>current</code> during regular namespace updates.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getPreviousCheckpoint()">getPreviousCheckpoint</a></strong>()</code>
<div class="block"><code>previous.checkpoint</code> is a directory, which holds the previous
 (before the last save) state of the storage directory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getPreviousDir()">getPreviousDir</a></strong>()</code>
<div class="block">Directory <code>previous</code> contains the previous file system state,
 which the system can be rolled back to.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getPreviousTmp()">getPreviousTmp</a></strong>()</code>
<div class="block"><code>previous.tmp</code> is a transient directory, which holds
 current file system state while the new state is saved into the new
 <code>current</code> during upgrade.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getPreviousVersionFile()">getPreviousVersionFile</a></strong>()</code>
<div class="block">File <code>VERSION</code> from the <code>previous</code> directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getRemovedTmp()">getRemovedTmp</a></strong>()</code>
<div class="block"><code>removed.tmp</code> is a transient directory, which holds
 current file system state while the previous state is moved into
 <code>current</code> during rollback.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getRoot()">getRoot</a></strong>()</code>
<div class="block">Get root directory of this storage</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getStorageDirType()">getStorageDirType</a></strong>()</code>
<div class="block">Get storage directory type</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getStorageUuid()">getStorageUuid</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#getVersionFile()">getVersionFile</a></strong>()</code>
<div class="block">File <code>VERSION</code> contains the following fields:
 
 node type
 layout version
 namespaceID
 fs state creation time
 other fields specific for this node type
 
 The version file is always written last during storage directory updates.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#hasSomeData()">hasSomeData</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#isLockSupported()">isLockSupported</a></strong>()</code>
<div class="block">Check whether underlying file system supports file locking.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#isShared()">isShared</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#lock()">lock</a></strong>()</code>
<div class="block">Lock storage to provide exclusive access.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#read(java.io.File,%20org.apache.hadoop.hdfs.server.common.Storage)">read</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;from,
        <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.html" title="class in org.apache.hadoop.hdfs.server.common">Storage</a>&nbsp;storage)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#setStorageUuid(java.lang.String)">setStorageUuid</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;storageUuid)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileLock.html?is-external=true" title="class or interface in java.nio.channels">FileLock</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#tryLock()">tryLock</a></strong>()</code>
<div class="block">Attempts to acquire an exclusive lock on the storage.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#unlock()">unlock</a></strong>()</code>
<div class="block">Unlock storage.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="root">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>root</h4>
<pre>final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.259">root</a></pre>
</li>
</ul>
<a name="isShared">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShared</h4>
<pre>final&nbsp;boolean <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.262">isShared</a></pre>
</li>
</ul>
<a name="dirType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dirType</h4>
<pre>final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.263">dirType</a></pre>
</li>
</ul>
<a name="lock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileLock.html?is-external=true" title="class or interface in java.nio.channels">FileLock</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.264">lock</a></pre>
</li>
</ul>
<a name="storageUuid">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>storageUuid</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.266">storageUuid</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Storage.StorageDirectory(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Storage.StorageDirectory</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.268">Storage.StorageDirectory</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir)</pre>
</li>
</ul>
<a name="Storage.StorageDirectory(java.io.File, org.apache.hadoop.hdfs.server.common.Storage.StorageDirType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Storage.StorageDirectory</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.273">Storage.StorageDirectory</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir,
                        <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a>&nbsp;dirType)</pre>
</li>
</ul>
<a name="Storage.StorageDirectory(java.io.File, org.apache.hadoop.hdfs.server.common.Storage.StorageDirType, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Storage.StorageDirectory</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.292">Storage.StorageDirectory</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;dir,
                        <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a>&nbsp;dirType,
                        boolean&nbsp;isShared)</pre>
<div class="block">Constructor</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dir</code> - directory corresponding to the storage</dd><dd><code>dirType</code> - storage directory type</dd><dd><code>isShared</code> - whether or not this dir is shared between two NNs. true
          disables locking on the storage directory, false enables locking</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setStorageUuid(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStorageUuid</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.277">setStorageUuid</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;storageUuid)</pre>
</li>
</ul>
<a name="getStorageUuid()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageUuid</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.281">getStorageUuid</a>()</pre>
</li>
</ul>
<a name="getRoot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoot</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.302">getRoot</a>()</pre>
<div class="block">Get root directory of this storage</div>
</li>
</ul>
<a name="getStorageDirType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorageDirType</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.StorageDirType</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.309">getStorageDirType</a>()</pre>
<div class="block">Get storage directory type</div>
</li>
</ul>
<a name="read(java.io.File, org.apache.hadoop.hdfs.server.common.Storage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.313">read</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;from,
        <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.html" title="class in org.apache.hadoop.hdfs.server.common">Storage</a>&nbsp;storage)
          throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="clearDirectory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearDirectory</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.331">clearDirectory</a>()
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Clear and re-create storage directory.
 <p>
 Removes contents of the current directory and creates an empty directory.
 
 This does not fully format storage directory. 
 It cannot write the version file since it should be written last after  
 all other storage type dependent files are written.
 Derived storage is responsible for setting specific storage values and
 writing the version file to disk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getCurrentDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentDir</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.346">getCurrentDir</a>()</pre>
<div class="block">Directory <code>current</code> contains latest files defining
 the file system meta-data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getVersionFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersionFile</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.366">getVersionFile</a>()</pre>
<div class="block">File <code>VERSION</code> contains the following fields:
 <ol>
 <li>node type</li>
 <li>layout version</li>
 <li>namespaceID</li>
 <li>fs state creation time</li>
 <li>other fields specific for this node type</li>
 </ol>
 The version file is always written last during storage directory updates.
 The existence of the version file indicates that all other files have
 been successfully written in the storage directory, the storage is valid
 and does not need to be recovered.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the version file path</dd></dl>
</li>
</ul>
<a name="getPreviousVersionFile()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousVersionFile</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.375">getPreviousVersionFile</a>()</pre>
<div class="block">File <code>VERSION</code> from the <code>previous</code> directory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the previous version file path</dd></dl>
</li>
</ul>
<a name="getPreviousDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousDir</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.385">getPreviousDir</a>()</pre>
<div class="block">Directory <code>previous</code> contains the previous file system state,
 which the system can be rolled back to.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getPreviousTmp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousTmp</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.399">getPreviousTmp</a>()</pre>
<div class="block"><code>previous.tmp</code> is a transient directory, which holds
 current file system state while the new state is saved into the new
 <code>current</code> during upgrade.
 If the saving succeeds <code>previous.tmp</code> will be moved to
 <code>previous</code>, otherwise it will be renamed back to 
 <code>current</code> by the recovery procedure during startup.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getRemovedTmp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemovedTmp</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.413">getRemovedTmp</a>()</pre>
<div class="block"><code>removed.tmp</code> is a transient directory, which holds
 current file system state while the previous state is moved into
 <code>current</code> during rollback.
 If the moving succeeds <code>removed.tmp</code> will be removed,
 otherwise it will be renamed back to 
 <code>current</code> by the recovery procedure during startup.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getFinalizedTmp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFinalizedTmp</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.426">getFinalizedTmp</a>()</pre>
<div class="block"><code>finalized.tmp</code> is a transient directory, which holds
 the <code>previous</code> file system state while it is being removed
 in response to the finalize request.
 Finalize operation will remove <code>finalized.tmp</code> when completed,
 otherwise the removal will resume upon the system startup.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getLastCheckpointTmp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastCheckpointTmp</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.440">getLastCheckpointTmp</a>()</pre>
<div class="block"><code>lastcheckpoint.tmp</code> is a transient directory, which holds
 current file system state while the new state is saved into the new
 <code>current</code> during regular namespace updates.
 If the saving succeeds <code>lastcheckpoint.tmp</code> will be moved to
 <code>previous.checkpoint</code>, otherwise it will be renamed back to 
 <code>current</code> by the recovery procedure during startup.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="getPreviousCheckpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPreviousCheckpoint</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.453">getPreviousCheckpoint</a>()</pre>
<div class="block"><code>previous.checkpoint</code> is a directory, which holds the previous
 (before the last save) state of the storage directory.
 The directory is created as a reference only, it does not play role
 in state recovery procedures, and is recycled automatically, 
 but it may be useful for manual recovery of a stale state of the system.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the directory path</dd></dl>
</li>
</ul>
<a name="analyzeStorage(org.apache.hadoop.hdfs.server.common.HdfsServerConstants.StartupOption, org.apache.hadoop.hdfs.server.common.Storage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeStorage</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageState.html" title="enum in org.apache.hadoop.hdfs.server.common">Storage.StorageState</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.467">analyzeStorage</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/HdfsServerConstants.StartupOption.html" title="enum in org.apache.hadoop.hdfs.server.common">HdfsServerConstants.StartupOption</a>&nbsp;startOpt,
                                  <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.html" title="class in org.apache.hadoop.hdfs.server.common">Storage</a>&nbsp;storage)
                                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Check consistency of the storage directory</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>startOpt</code> - a startup option.</dd>
<dt><span class="strong">Returns:</span></dt><dd>state <a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageState.html" title="enum in org.apache.hadoop.hdfs.server.common"><code>Storage.StorageState</code></a> of the storage directory</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/InconsistentFSStateException.html" title="class in org.apache.hadoop.hdfs.server.common">InconsistentFSStateException</a></code> - if directory state is not 
 consistent and cannot be recovered.</dd>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doRecover(org.apache.hadoop.hdfs.server.common.Storage.StorageState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRecover</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.581">doRecover</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageState.html" title="enum in org.apache.hadoop.hdfs.server.common">Storage.StorageState</a>&nbsp;curState)
               throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Complete or recover storage state from previously failed transition.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>curState</code> - specifies what/how the state should be recovered</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="hasSomeData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasSomeData</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.638">hasSomeData</a>()
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html#hasSomeData()">hasSomeData</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.FormatConfirmable</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the storage directory should prompt the user prior
 to formatting (i.e if the directory appears to contain some data)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the SD cannot be accessed due to an IO error</dd></dl>
</li>
</ul>
<a name="isShared()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShared</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.657">isShared</a>()</pre>
</li>
</ul>
<a name="lock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.673">lock</a>()
          throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Lock storage to provide exclusive access.
 
 <p> Locking is not supported by all file systems.
 E.g., NFS does not consistently support exclusive locks.
 
 <p> If locking is supported we guarantee exclusive access to the
 storage directory. Otherwise, no guarantee is given.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if locking fails</dd></dl>
</li>
</ul>
<a name="tryLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryLock</h4>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileLock.html?is-external=true" title="class or interface in java.nio.channels">FileLock</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.699">tryLock</a>()
           throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Attempts to acquire an exclusive lock on the storage.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A lock object representing the newly-acquired lock or
 <code>null</code> if storage is already locked.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if locking fails.</dd></dl>
</li>
</ul>
<a name="unlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.744">unlock</a>()
            throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Unlock storage.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.753">toString</a>()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html#toString()">toString</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common">Storage.FormatConfirmable</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a string representation of the formattable item, suitable
 for display to the user inside a prompt</dd></dl>
</li>
</ul>
<a name="isLockSupported()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLockSupported</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#line.765">isLockSupported</a>()
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Check whether underlying file system supports file locking.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if exclusive locks are supported or
         <code>false</code> otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html#lock()"><code>lock()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Storage.StorageDirectory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.FormatConfirmable.html" title="interface in org.apache.hadoop.hdfs.server.common"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/common/Storage.StorageDirType.html" title="interface in org.apache.hadoop.hdfs.server.common"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/common/Storage.StorageDirectory.html" target="_top">Frames</a></li>
<li><a href="Storage.StorageDirectory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
