<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:53:44 EDT 2015 -->
<title>FSImageFormat.Saver</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FSImageFormat.Saver";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSImageFormat.Saver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.LoaderDelegator.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html" target="_top">Frames</a></li>
<li><a href="FSImageFormat.Saver.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.namenode</div>
<h2 title="Class FSImageFormat.Saver" class="title">Class FSImageFormat.Saver</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.namenode.FSImageFormat.Saver</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.html" title="class in org.apache.hadoop.hdfs.server.namenode">FSImageFormat</a></dd>
</dl>
<hr>
<div class="block"><strong>Deprecated.</strong></div>
<br>
<pre><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
static class <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.html#line.1194">FSImageFormat.Saver</a>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A one-shot class responsible for writing an image file.
 The write() function should be called once, after which the getter
 functions may be used to retrieve information about the file that was written.

 This is replaced by the PB-based FSImage. The class is to maintain
 compatibility for the external fsimage tool.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#CHECK_CANCEL_INTERVAL">CHECK_CANCEL_INTERVAL</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#checkCancelCounter">checkCancelCounter</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/SaveNamespaceContext.html" title="class in org.apache.hadoop.hdfs.server.namenode">SaveNamespaceContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#context">context</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#LAYOUT_VERSION">LAYOUT_VERSION</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/snapshot/SnapshotFSImageFormat.ReferenceMap.html" title="class in org.apache.hadoop.hdfs.server.namenode.snapshot">SnapshotFSImageFormat.ReferenceMap</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#referenceMap">referenceMap</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#saved">saved</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Set to true once an image has been written</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.hadoop.io.MD5Hash</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#savedDigest">savedDigest</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">The MD5 checksum of the file that was written</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeFile.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeFile</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#snapshotUCMap">snapshotUCMap</a></strong></code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#FSImageFormat.Saver(org.apache.hadoop.hdfs.server.namenode.SaveNamespaceContext)">FSImageFormat.Saver</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/SaveNamespaceContext.html" title="class in org.apache.hadoop.hdfs.server.namenode">SaveNamespaceContext</a>&nbsp;context)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#checkNotSaved()">checkNotSaved</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#checkSaved()">checkSaved</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) org.apache.hadoop.io.MD5Hash</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#getSavedDigest()">getSavedDigest</a></strong>()</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Return the MD5 checksum of the image file that was saved.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#save(java.io.File,%20org.apache.hadoop.hdfs.server.namenode.FSImageCompression)">save</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;newFile,
        <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageCompression.html" title="class in org.apache.hadoop.hdfs.server.namenode">FSImageCompression</a>&nbsp;compression)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#saveChildren(org.apache.hadoop.hdfs.util.ReadOnlyList,%20java.io.DataOutputStream,%20boolean,%20org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">saveChildren</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/util/ReadOnlyList.html" title="interface in org.apache.hadoop.hdfs.util">ReadOnlyList</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&gt;&nbsp;children,
                        <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
                        boolean&nbsp;inSnapshot,
                        <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Save children INodes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#saveImage(org.apache.hadoop.hdfs.server.namenode.INodeDirectory,%20java.io.DataOutputStream,%20boolean,%20boolean,%20org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">saveImage</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeDirectory.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeDirectory</a>&nbsp;current,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
                  boolean&nbsp;toSaveSubtree,
                  boolean&nbsp;inSnapshot,
                  <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Save file tree image starting from the given root.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#saveINode2Image(org.apache.hadoop.hdfs.server.namenode.INode,%20java.io.DataOutputStream,%20boolean,%20org.apache.hadoop.hdfs.server.namenode.snapshot.SnapshotFSImageFormat.ReferenceMap,%20org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">saveINode2Image</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                              <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
                              boolean&nbsp;writeUnderConstruction,
                              <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/snapshot/SnapshotFSImageFormat.ReferenceMap.html" title="class in org.apache.hadoop.hdfs.server.namenode.snapshot">SnapshotFSImageFormat.ReferenceMap</a>&nbsp;referenceMap,
                              <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;</div>
<div class="block">Saves inode and increments progress counter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LAYOUT_VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LAYOUT_VERSION</h4>
<pre>private static final&nbsp;int <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1195">LAYOUT_VERSION</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.server.namenode.FSImageFormat.Saver.LAYOUT_VERSION">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CHECK_CANCEL_INTERVAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_CANCEL_INTERVAL</h4>
<pre>public static final&nbsp;int <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1196">CHECK_CANCEL_INTERVAL</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.server.namenode.FSImageFormat.Saver.CHECK_CANCEL_INTERVAL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/SaveNamespaceContext.html" title="class in org.apache.hadoop.hdfs.server.namenode">SaveNamespaceContext</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1197">context</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="saved">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saved</h4>
<pre>private&nbsp;boolean <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1199">saved</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Set to true once an image has been written</div>
</li>
</ul>
<a name="checkCancelCounter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCancelCounter</h4>
<pre>private&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1200">checkCancelCounter</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="savedDigest">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savedDigest</h4>
<pre>private&nbsp;org.apache.hadoop.io.MD5Hash <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1203">savedDigest</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">The MD5 checksum of the file that was written</div>
</li>
</ul>
<a name="referenceMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>referenceMap</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/snapshot/SnapshotFSImageFormat.ReferenceMap.html" title="class in org.apache.hadoop.hdfs.server.namenode.snapshot">SnapshotFSImageFormat.ReferenceMap</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1204">referenceMap</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
<a name="snapshotUCMap">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>snapshotUCMap</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeFile.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeFile</a>&gt; <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1206">snapshotUCMap</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FSImageFormat.Saver(org.apache.hadoop.hdfs.server.namenode.SaveNamespaceContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FSImageFormat.Saver</h4>
<pre><a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1224">FSImageFormat.Saver</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/SaveNamespaceContext.html" title="class in org.apache.hadoop.hdfs.server.namenode">SaveNamespaceContext</a>&nbsp;context)</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkSaved()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSaved</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1210">checkSaved</a>()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the instance has not yet saved an image</dd></dl>
</li>
</ul>
<a name="checkNotSaved()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkNotSaved</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1217">checkNotSaved</a>()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the instance has already saved an image</dd></dl>
</li>
</ul>
<a name="getSavedDigest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSavedDigest</h4>
<pre>org.apache.hadoop.io.MD5Hash&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1231">getSavedDigest</a>()</pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Return the MD5 checksum of the image file that was saved.</div>
</li>
</ul>
<a name="save(java.io.File, org.apache.hadoop.hdfs.server.namenode.FSImageCompression)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save</h4>
<pre>void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1236">save</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;newFile,
        <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageCompression.html" title="class in org.apache.hadoop.hdfs.server.namenode">FSImageCompression</a>&nbsp;compression)
    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="saveChildren(org.apache.hadoop.hdfs.util.ReadOnlyList, java.io.DataOutputStream, boolean, org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveChildren</h4>
<pre>private&nbsp;int&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1332">saveChildren</a>(<a href="../../../../../../org/apache/hadoop/hdfs/util/ReadOnlyList.html" title="interface in org.apache.hadoop.hdfs.util">ReadOnlyList</a>&lt;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&gt;&nbsp;children,
               <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
               boolean&nbsp;inSnapshot,
               <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)
                  throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Save children INodes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>children</code> - The list of children INodes</dd><dd><code>out</code> - The DataOutputStream to write</dd><dd><code>inSnapshot</code> - Whether the parent directory or its ancestor is in
                   the deleted list of some snapshot (caused by rename or
                   deletion)</dd><dd><code>counter</code> - Counter to increment for namenode startup progress</dd>
<dt><span class="strong">Returns:</span></dt><dd>Number of children that are directory</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="saveImage(org.apache.hadoop.hdfs.server.namenode.INodeDirectory, java.io.DataOutputStream, boolean, boolean, org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveImage</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1371">saveImage</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeDirectory.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeDirectory</a>&nbsp;current,
             <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
             boolean&nbsp;toSaveSubtree,
             boolean&nbsp;inSnapshot,
             <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)
                throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Save file tree image starting from the given root.
 This is a recursive procedure, which first saves all children and
 snapshot diffs of a current directory and then moves inside the
 sub-directories.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>current</code> - The current node</dd><dd><code>out</code> - The DataoutputStream to write the image</dd><dd><code>toSaveSubtree</code> - Whether or not to save the subtree to fsimage. For
                      reference node, its subtree may already have been
                      saved before.</dd><dd><code>inSnapshot</code> - Whether the current directory is in snapshot</dd><dd><code>counter</code> - Counter to increment for namenode startup progress</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="saveINode2Image(org.apache.hadoop.hdfs.server.namenode.INode, java.io.DataOutputStream, boolean, org.apache.hadoop.hdfs.server.namenode.snapshot.SnapshotFSImageFormat.ReferenceMap, org.apache.hadoop.hdfs.server.namenode.startupprogress.StartupProgress.Counter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>saveINode2Image</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html#line.1438">saveINode2Image</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                   <a href="https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html?is-external=true" title="class or interface in java.io">DataOutputStream</a>&nbsp;out,
                   boolean&nbsp;writeUnderConstruction,
                   <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/snapshot/SnapshotFSImageFormat.ReferenceMap.html" title="class in org.apache.hadoop.hdfs.server.namenode.snapshot">SnapshotFSImageFormat.ReferenceMap</a>&nbsp;referenceMap,
                   <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/startupprogress/StartupProgress.Counter.html" title="interface in org.apache.hadoop.hdfs.server.namenode.startupprogress">StartupProgress.Counter</a>&nbsp;counter)
                      throws <a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;</div>
<div class="block">Saves inode and increments progress counter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inode</code> - INode to save</dd><dd><code>out</code> - DataOutputStream to receive inode</dd><dd><code>writeUnderConstruction</code> - boolean true if this is under construction</dd><dd><code>referenceMap</code> - ReferenceMap containing reference inodes</dd><dd><code>counter</code> - Counter to increment for namenode startup progress</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - thrown if there is an I/O error</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSImageFormat.Saver.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormat.LoaderDelegator.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSImageFormatPBINode.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/FSImageFormat.Saver.html" target="_top">Frames</a></li>
<li><a href="FSImageFormat.Saver.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
