<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:53:45 EDT 2015 -->
<title>FSPermissionChecker</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FSPermissionChecker";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSPermissionChecker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNDNCacheOp.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/GetDelegationTokenServlet.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html" target="_top">Frames</a></li>
<li><a href="FSPermissionChecker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.namenode</div>
<h2 title="Class FSPermissionChecker" class="title">Class FSPermissionChecker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.namenode.FSPermissionChecker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.AccessControlEnforcer.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider.AccessControlEnforcer</a></dd>
</dl>
<hr>
<br>
<pre> class <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.45">FSPermissionChecker</a>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.AccessControlEnforcer.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider.AccessControlEnforcer</a></pre>
<div class="block">Class that helps in checking file system permission.
 The state of this class need not be synchronized as it has data structures that
 are read-only.
 
 Some of the helper methods are gaurded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#attributeProvider">attributeProvider</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.hadoop.security.UserGroupInformation</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#callerUgi">callerUgi</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#fsOwner">fsOwner</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#groups">groups</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#isSuper">isSuper</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#supergroup">supergroup</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#user">user</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#FSPermissionChecker(java.lang.String,%20java.lang.String,%20org.apache.hadoop.security.UserGroupInformation,%20org.apache.hadoop.hdfs.server.namenode.INodeAttributeProvider)">FSPermissionChecker</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fsOwner,
                                      <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;supergroup,
                                      org.apache.hadoop.security.UserGroupInformation&nbsp;callerUgi,
                                      <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a>&nbsp;attributeProvider)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#check(org.apache.hadoop.hdfs.server.namenode.INodeAttributes[],%20java.lang.String,%20int,%20org.apache.hadoop.fs.permission.FsAction)">check</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodes,
          <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
          int&nbsp;i,
          org.apache.hadoop.fs.permission.FsAction&nbsp;access)</code>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#check(org.apache.hadoop.hdfs.server.namenode.INodeAttributes,%20java.lang.String,%20org.apache.hadoop.fs.permission.FsAction)">check</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode,
          <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
          org.apache.hadoop.fs.permission.FsAction&nbsp;access)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkAccessAcl(org.apache.hadoop.hdfs.server.namenode.INodeAttributes,%20java.lang.String,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsPermission,%20org.apache.hadoop.hdfs.server.namenode.AclFeature)">checkAccessAcl</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode,
                            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                            org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                            org.apache.hadoop.fs.permission.FsPermission&nbsp;mode,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclFeature.html" title="class in org.apache.hadoop.hdfs.server.namenode">AclFeature</a>&nbsp;aclFeature)</code>
<div class="block">Checks requested access against an Access Control List.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkOwner(org.apache.hadoop.hdfs.server.namenode.INodeAttributes)">checkOwner</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode)</code>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkPermission(org.apache.hadoop.hdfs.server.namenode.CachePool,%20org.apache.hadoop.fs.permission.FsAction)">checkPermission</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/CachePool.html" title="class in org.apache.hadoop.hdfs.server.namenode">CachePool</a>&nbsp;pool,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;access)</code>
<div class="block">Whether a cache pool can be accessed by the current context</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkPermission(org.apache.hadoop.hdfs.server.namenode.INodesInPath,%20boolean,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)">checkPermission</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodesInPath.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodesInPath</a>&nbsp;inodesInPath,
                              boolean&nbsp;doCheckOwner,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;ancestorAccess,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;parentAccess,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;subAccess,
                              boolean&nbsp;ignoreEmptyDir)</code>
<div class="block">Check whether current user have permissions to access the path.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkPermission(java.lang.String,%20java.lang.String,%20org.apache.hadoop.security.UserGroupInformation,%20org.apache.hadoop.hdfs.server.namenode.INodeAttributes[],%20org.apache.hadoop.hdfs.server.namenode.INode[],%20byte[][],%20int,%20java.lang.String,%20int,%20boolean,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)">checkPermission</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fsOwner,
                              <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;supergroup,
                              org.apache.hadoop.security.UserGroupInformation&nbsp;callerUgi,
                              <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodeAttrs,
                              <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>[]&nbsp;inodes,
                              byte[][]&nbsp;pathByNameArr,
                              int&nbsp;snapshotId,
                              <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                              int&nbsp;ancestorIndex,
                              boolean&nbsp;doCheckOwner,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;ancestorAccess,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;parentAccess,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                              org.apache.hadoop.fs.permission.FsAction&nbsp;subAccess,
                              boolean&nbsp;ignoreEmptyDir)</code>
<div class="block">Checks permission on a file system object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkStickyBit(org.apache.hadoop.hdfs.server.namenode.INodeAttributes,%20org.apache.hadoop.hdfs.server.namenode.INodeAttributes)">checkStickyBit</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;parent,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode)</code>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkSubAccess(byte[][],%20int,%20org.apache.hadoop.hdfs.server.namenode.INode,%20int,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)">checkSubAccess</a></strong>(byte[][]&nbsp;pathByNameArr,
                            int&nbsp;pathIdx,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                            int&nbsp;snapshotId,
                            org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                            boolean&nbsp;ignoreEmptyDir)</code>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkSuperuserPrivilege()">checkSuperuserPrivilege</a></strong>()</code>
<div class="block">Verify if the caller has the required permission.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#checkTraverse(org.apache.hadoop.hdfs.server.namenode.INodeAttributes[],%20java.lang.String,%20int)">checkTraverse</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodes,
                          <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                          int&nbsp;last)</code>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#containsGroup(java.lang.String)">containsGroup</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;group)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#getAttributesProvider()">getAttributesProvider</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#getGroups()">getGroups</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#getINodeAttrs(byte[][],%20int,%20org.apache.hadoop.hdfs.server.namenode.INode,%20int)">getINodeAttrs</a></strong>(byte[][]&nbsp;pathByNameArr,
                          int&nbsp;pathIdx,
                          <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                          int&nbsp;snapshotId)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#getUser()">getUser</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#isSuperUser()">isSuperUser</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#toAccessControlString(org.apache.hadoop.hdfs.server.namenode.INodeAttributes,%20java.lang.String,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsPermission)">toAccessControlString</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inodeAttrib,
                                          <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                                          org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                                          org.apache.hadoop.fs.permission.FsPermission&nbsp;mode)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#toAccessControlString(org.apache.hadoop.hdfs.server.namenode.INodeAttributes,%20java.lang.String,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsPermission,%20boolean)">toAccessControlString</a></strong>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inodeAttrib,
                                          <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                                          org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                                          org.apache.hadoop.fs.permission.FsPermission&nbsp;mode,
                                          boolean&nbsp;deniedFromAcl)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>static final&nbsp;org.apache.commons.logging.Log <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.46">LOG</a></pre>
</li>
</ul>
<a name="fsOwner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fsOwner</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.71">fsOwner</a></pre>
</li>
</ul>
<a name="supergroup">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supergroup</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.72">supergroup</a></pre>
</li>
</ul>
<a name="callerUgi">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>callerUgi</h4>
<pre>private final&nbsp;org.apache.hadoop.security.UserGroupInformation <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.73">callerUgi</a></pre>
</li>
</ul>
<a name="user">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>user</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.75">user</a></pre>
</li>
</ul>
<a name="groups">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>groups</h4>
<pre>private final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.76">groups</a></pre>
</li>
</ul>
<a name="isSuper">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSuper</h4>
<pre>private final&nbsp;boolean <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.77">isSuper</a></pre>
</li>
</ul>
<a name="attributeProvider">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>attributeProvider</h4>
<pre>private final&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a> <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.78">attributeProvider</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FSPermissionChecker(java.lang.String, java.lang.String, org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.hdfs.server.namenode.INodeAttributeProvider)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FSPermissionChecker</h4>
<pre><a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.81">FSPermissionChecker</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fsOwner,
                   <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;supergroup,
                   org.apache.hadoop.security.UserGroupInformation&nbsp;callerUgi,
                   <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a>&nbsp;attributeProvider)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toAccessControlString(org.apache.hadoop.hdfs.server.namenode.INodeAttributes, java.lang.String, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsPermission)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toAccessControlString</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.49">toAccessControlString</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inodeAttrib,
                           <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                           org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                           org.apache.hadoop.fs.permission.FsPermission&nbsp;mode)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a string for throwing <code>AccessControlException</code></dd></dl>
</li>
</ul>
<a name="toAccessControlString(org.apache.hadoop.hdfs.server.namenode.INodeAttributes, java.lang.String, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsPermission, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toAccessControlString</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.55">toAccessControlString</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inodeAttrib,
                           <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                           org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                           org.apache.hadoop.fs.permission.FsPermission&nbsp;mode,
                           boolean&nbsp;deniedFromAcl)</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a string for throwing <code>AccessControlException</code></dd></dl>
</li>
</ul>
<a name="containsGroup(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsGroup</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.95">containsGroup</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;group)</pre>
</li>
</ul>
<a name="getUser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.99">getUser</a>()</pre>
</li>
</ul>
<a name="getGroups()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGroups</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.103">getGroups</a>()</pre>
</li>
</ul>
<a name="isSuperUser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSuperUser</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.107">isSuperUser</a>()</pre>
</li>
</ul>
<a name="getAttributesProvider()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAttributesProvider</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.111">getAttributesProvider</a>()</pre>
</li>
</ul>
<a name="checkSuperuserPrivilege()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSuperuserPrivilege</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.119">checkSuperuserPrivilege</a>()
                             throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Verify if the caller has the required permission. This will result into 
 an exception if the caller is not allowed to access the resource.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="checkPermission(org.apache.hadoop.hdfs.server.namenode.INodesInPath, boolean, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPermission</h4>
<pre>void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.159">checkPermission</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodesInPath.html" title="class in org.apache.hadoop.hdfs.server.namenode">INodesInPath</a>&nbsp;inodesInPath,
                   boolean&nbsp;doCheckOwner,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;ancestorAccess,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;parentAccess,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;subAccess,
                   boolean&nbsp;ignoreEmptyDir)
               throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Check whether current user have permissions to access the path.
 Traverse is always checked.

 Parent path means the parent directory for the path.
 Ancestor path means the last (the closest) existing ancestor directory
 of the path.
 Note that if the parent path exists,
 then the parent path and the ancestor path are the same.

 For example, suppose the path is "/foo/bar/baz".
 No matter baz is a file or a directory,
 the parent path is "/foo/bar".
 If bar exists, then the ancestor path is also "/foo/bar".
 If bar does not exist and foo exists,
 then the ancestor path is "/foo".
 Further, if both foo and bar do not exist,
 then the ancestor path is "/".</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>doCheckOwner</code> - Require user to be the owner of the path?</dd><dd><code>ancestorAccess</code> - The access required by the ancestor of the path.</dd><dd><code>parentAccess</code> - The access required by the parent of the path.</dd><dd><code>access</code> - The access required by the path.</dd><dd><code>subAccess</code> - If path is a directory,
 it is the access required of the path and all the sub-directories.
 If path is not a directory, there is no effect.</dd><dd><code>ignoreEmptyDir</code> - Ignore permission checking for empty directory?</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code> - Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a>
 Caller of this method must hold that lock.</dd></dl>
</li>
</ul>
<a name="checkPermission(java.lang.String, java.lang.String, org.apache.hadoop.security.UserGroupInformation, org.apache.hadoop.hdfs.server.namenode.INodeAttributes[], org.apache.hadoop.hdfs.server.namenode.INode[], byte[][], int, java.lang.String, int, boolean, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsAction, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkPermission</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.196">checkPermission</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fsOwner,
                   <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;supergroup,
                   org.apache.hadoop.security.UserGroupInformation&nbsp;callerUgi,
                   <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodeAttrs,
                   <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>[]&nbsp;inodes,
                   byte[][]&nbsp;pathByNameArr,
                   int&nbsp;snapshotId,
                   <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                   int&nbsp;ancestorIndex,
                   boolean&nbsp;doCheckOwner,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;ancestorAccess,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;parentAccess,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;subAccess,
                   boolean&nbsp;ignoreEmptyDir)
                     throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.AccessControlEnforcer.html#checkPermission(java.lang.String,%20java.lang.String,%20org.apache.hadoop.security.UserGroupInformation,%20org.apache.hadoop.hdfs.server.namenode.INodeAttributes[],%20org.apache.hadoop.hdfs.server.namenode.INode[],%20byte[][],%20int,%20java.lang.String,%20int,%20boolean,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)">INodeAttributeProvider.AccessControlEnforcer</a></code></strong></div>
<div class="block">Checks permission on a file system object. Has to throw an Exception
 if the filesystem object is not accessessible by the calling Ugi.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.AccessControlEnforcer.html#checkPermission(java.lang.String,%20java.lang.String,%20org.apache.hadoop.security.UserGroupInformation,%20org.apache.hadoop.hdfs.server.namenode.INodeAttributes[],%20org.apache.hadoop.hdfs.server.namenode.INode[],%20byte[][],%20int,%20java.lang.String,%20int,%20boolean,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20org.apache.hadoop.fs.permission.FsAction,%20boolean)">checkPermission</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributeProvider.AccessControlEnforcer.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributeProvider.AccessControlEnforcer</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>fsOwner</code> - Filesystem owner (The Namenode user)</dd><dd><code>supergroup</code> - super user geoup</dd><dd><code>callerUgi</code> - UserGroupInformation of the caller</dd><dd><code>inodeAttrs</code> - Array of INode attributes for each path element in the
                   the path</dd><dd><code>inodes</code> - Array of INodes for each path element in the path</dd><dd><code>pathByNameArr</code> - Array of byte arrays of the LocalName</dd><dd><code>snapshotId</code> - the snapshotId of the requested path</dd><dd><code>path</code> - Path String</dd><dd><code>ancestorIndex</code> - Index of ancestor</dd><dd><code>doCheckOwner</code> - perform ownership check</dd><dd><code>ancestorAccess</code> - The access required by the ancestor of the path.</dd><dd><code>parentAccess</code> - The access required by the parent of the path.</dd><dd><code>access</code> - The access required by the path.</dd><dd><code>subAccess</code> - If path is a directory, It is the access required of
                  the path and all the sub-directories. If path is not a
                  directory, there should ideally be no effect.</dd><dd><code>ignoreEmptyDir</code> - Ignore permission checking for empty directory?</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="getINodeAttrs(byte[][], int, org.apache.hadoop.hdfs.server.namenode.INode, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getINodeAttrs</h4>
<pre>private&nbsp;<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.231">getINodeAttrs</a>(byte[][]&nbsp;pathByNameArr,
                            int&nbsp;pathIdx,
                            <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                            int&nbsp;snapshotId)</pre>
</li>
</ul>
<a name="checkOwner(org.apache.hadoop.hdfs.server.namenode.INodeAttributes)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkOwner</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.245">checkOwner</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode)
                 throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="checkTraverse(org.apache.hadoop.hdfs.server.namenode.INodeAttributes[], java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkTraverse</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.256">checkTraverse</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodes,
                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                 int&nbsp;last)
                    throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="checkSubAccess(byte[][], int, org.apache.hadoop.hdfs.server.namenode.INode, int, org.apache.hadoop.fs.permission.FsAction, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkSubAccess</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.264">checkSubAccess</a>(byte[][]&nbsp;pathByNameArr,
                  int&nbsp;pathIdx,
                  <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INode.html" title="class in org.apache.hadoop.hdfs.server.namenode">INode</a>&nbsp;inode,
                  int&nbsp;snapshotId,
                  org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                  boolean&nbsp;ignoreEmptyDir)
                     throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="check(org.apache.hadoop.hdfs.server.namenode.INodeAttributes[], java.lang.String, int, org.apache.hadoop.fs.permission.FsAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.290">check</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>[]&nbsp;inodes,
         <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
         int&nbsp;i,
         org.apache.hadoop.fs.permission.FsAction&nbsp;access)
            throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="check(org.apache.hadoop.hdfs.server.namenode.INodeAttributes, java.lang.String, org.apache.hadoop.fs.permission.FsAction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.295">check</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode,
         <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
         org.apache.hadoop.fs.permission.FsAction&nbsp;access)
            throws org.apache.hadoop.security.AccessControlException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="checkAccessAcl(org.apache.hadoop.hdfs.server.namenode.INodeAttributes, java.lang.String, org.apache.hadoop.fs.permission.FsAction, org.apache.hadoop.fs.permission.FsPermission, org.apache.hadoop.hdfs.server.namenode.AclFeature)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkAccessAcl</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.346">checkAccessAcl</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path,
                  org.apache.hadoop.fs.permission.FsAction&nbsp;access,
                  org.apache.hadoop.fs.permission.FsPermission&nbsp;mode,
                  <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclFeature.html" title="class in org.apache.hadoop.hdfs.server.namenode">AclFeature</a>&nbsp;aclFeature)
                     throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Checks requested access against an Access Control List.  This method relies
 on finding the ACL data in the relevant portions of <code>FsPermission</code> and
 <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclFeature.html" title="class in org.apache.hadoop.hdfs.server.namenode"><code>AclFeature</code></a> as implemented in the logic of <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclStorage.html" title="class in org.apache.hadoop.hdfs.server.namenode"><code>AclStorage</code></a>.  This
 method also relies on receiving the ACL entries in sorted order.  This is
 assumed to be true, because the ACL modification methods in
 <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html" title="class in org.apache.hadoop.hdfs.server.namenode"><code>AclTransformation</code></a> sort the resulting entries.

 More specifically, this method depends on these invariants in an ACL:
 - The list must be sorted.
 - Each entry in the list must be unique by scope + type + name.
 - There is exactly one each of the unnamed user/group/other entries.
 - The mask entry must not have a name.
 - The other entry must not have a name.
 - Default entries may be present, but they are ignored during enforcement.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inode</code> - INodeAttributes accessed inode</dd><dd><code>snapshotId</code> - int snapshot ID</dd><dd><code>access</code> - FsAction requested permission</dd><dd><code>mode</code> - FsPermission mode from inode</dd><dd><code>aclFeature</code> - AclFeature of inode</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code> - if the ACL denies permission</dd></dl>
</li>
</ul>
<a name="checkStickyBit(org.apache.hadoop.hdfs.server.namenode.INodeAttributes, org.apache.hadoop.hdfs.server.namenode.INodeAttributes)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkStickyBit</h4>
<pre>private&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.408">checkStickyBit</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;parent,
                  <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/INodeAttributes.html" title="interface in org.apache.hadoop.hdfs.server.namenode">INodeAttributes</a>&nbsp;inode)
                     throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Guarded by <a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNamesystem.html#readLock()"><code>FSNamesystem.readLock()</code></a></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code></dd></dl>
</li>
</ul>
<a name="checkPermission(org.apache.hadoop.hdfs.server.namenode.CachePool, org.apache.hadoop.fs.permission.FsAction)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkPermission</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html#line.435">checkPermission</a>(<a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/CachePool.html" title="class in org.apache.hadoop.hdfs.server.namenode">CachePool</a>&nbsp;pool,
                   org.apache.hadoop.fs.permission.FsAction&nbsp;access)
                     throws org.apache.hadoop.security.AccessControlException</pre>
<div class="block">Whether a cache pool can be accessed by the current context</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pool</code> - CachePool being accessed</dd><dd><code>access</code> - type of action being performed on the cache pool</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.hadoop.security.AccessControlException</code> - if pool cannot be accessed</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FSPermissionChecker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/FSNDNCacheOp.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/GetDelegationTokenServlet.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/FSPermissionChecker.html" target="_top">Frames</a></li>
<li><a href="FSPermissionChecker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
