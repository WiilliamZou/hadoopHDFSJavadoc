<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 23:53:41 EDT 2015 -->
<title>AclTransformation</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AclTransformation";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AclTransformation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclStorage.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.ValidatedAclSpec.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/AclTransformation.html" target="_top">Frames</a></li>
<li><a href="AclTransformation.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hdfs.server.namenode</div>
<h2 title="Class AclTransformation" class="title">Class AclTransformation</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hdfs.server.namenode.AclTransformation</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@InterfaceAudience.Private
final class <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.64">AclTransformation</a>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">AclTransformation defines the operations that can modify an ACL.  All ACL
 modifications take as input an existing ACL and apply logic to add new
 entries, modify existing entries or remove old entries.  Some operations also
 accept an ACL spec: a list of entries that further describes the requested
 change.  Different operations interpret the ACL spec differently.  In the
 case of adding an ACL to an inode that previously did not have one, the
 existing ACL can be a "minimal ACL" containing exactly 3 entries for owner,
 group and other, all derived from the <code>FsPermission</code> bits.

 The algorithms implemented here require sorted lists of ACL entries.  For any
 existing ACL, it is assumed that the entries are sorted.  This is because all
 ACL creation and modification is intended to go through these methods, and
 they all guarantee correct sort order in their outputs.  However, an ACL spec
 is considered untrusted user input, so all operations pre-sort the ACL spec as
 the first step.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.ValidatedAclSpec.html" title="class in org.apache.hadoop.hdfs.server.namenode">AclTransformation.ValidatedAclSpec</a></strong></code>
<div class="block">An ACL spec that has been pre-validated and sorted.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#ACL_ENTRY_COMPARATOR">ACL_ENTRY_COMPARATOR</a></strong></code>
<div class="block">Comparator that enforces required ordering for entries within an ACL:
 -owner entry (unnamed user)
 -all named user entries (internal ordering undefined)
 -owning group entry (unnamed group)
 -all named group entries (internal ordering undefined)
 -mask entry
 -other entry
 All access ACL entries sort ahead of all default ACL entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#MAX_ENTRIES">MAX_ENTRIES</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#AclTransformation()">AclTransformation</a></strong>()</code>
<div class="block">There is no reason to instantiate this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#buildAndValidateAcl(java.util.ArrayList)">buildAndValidateAcl</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder)</code>
<div class="block">Builds the final list of ACL entries to return by trimming, sorting and
 validating the ACL entries that have been added.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#calculateMasks(java.util.List,%20java.util.EnumMap,%20java.util.EnumSet,%20java.util.EnumSet)">calculateMasks</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder,
                            <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html?is-external=true" title="class or interface in java.util">EnumMap</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope,org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;providedMask,
                            <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope&gt;&nbsp;maskDirty,
                            <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope&gt;&nbsp;scopeDirty)</code>
<div class="block">Calculates mask entries required for the ACL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#copyDefaultsIfNeeded(java.util.List)">copyDefaultsIfNeeded</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder)</code>
<div class="block">Adds unspecified default entries by copying permissions from the
 corresponding access entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#filterAclEntriesByAclSpec(java.util.List,%20java.util.List)">filterAclEntriesByAclSpec</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                                                  <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)</code>
<div class="block">Filters (discards) any existing ACL entries that have the same scope, type
 and name of any entry in the ACL spec.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#filterDefaultAclEntries(java.util.List)">filterDefaultAclEntries</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl)</code>
<div class="block">Filters (discards) any existing default ACL entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#mergeAclEntries(java.util.List,%20java.util.List)">mergeAclEntries</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                              <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)</code>
<div class="block">Merges the entries of the ACL spec into the existing ACL.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#replaceAclEntries(java.util.List,%20java.util.List)">replaceAclEntries</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                                  <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)</code>
<div class="block">Completely replaces the ACL with the entries of the ACL spec.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_ENTRIES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_ENTRIES</h4>
<pre>private static final&nbsp;int <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.65">MAX_ENTRIES</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hdfs.server.namenode.AclTransformation.MAX_ENTRIES">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ACL_ENTRY_COMPARATOR">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ACL_ENTRY_COMPARATOR</h4>
<pre>static final&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt; <a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.249">ACL_ENTRY_COMPARATOR</a></pre>
<div class="block">Comparator that enforces required ordering for entries within an ACL:
 -owner entry (unnamed user)
 -all named user entries (internal ordering undefined)
 -owning group entry (unnamed group)
 -all named group entries (internal ordering undefined)
 -mask entry
 -other entry
 All access ACL entries sort ahead of all default ACL entries.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AclTransformation()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AclTransformation</h4>
<pre>private&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.236">AclTransformation</a>()</pre>
<div class="block">There is no reason to instantiate this class.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="filterAclEntriesByAclSpec(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterAclEntriesByAclSpec</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.80">filterAclEntriesByAclSpec</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                                                                       <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)
                                                                                throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Filters (discards) any existing ACL entries that have the same scope, type
 and name of any entry in the ACL spec.  If necessary, recalculates the mask
 entries.  If necessary, default entries may be inferred by copying the
 permissions of the corresponding access entries.  It is invalid to request
 removal of the mask entry from an ACL that would otherwise require a mask
 entry, due to existing named entries or an unnamed group entry.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>existingAcl</code> - List<AclEntry> existing ACL</dd><dd><code>inAclSpec</code> - List<AclEntry> ACL spec describing entries to filter</dd>
<dt><span class="strong">Returns:</span></dt><dd>List<AclEntry> new ACL</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="filterDefaultAclEntries(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>filterDefaultAclEntries</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.115">filterDefaultAclEntries</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl)
                                                                              throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Filters (discards) any existing default ACL entries.  The new ACL retains
 only the access ACL entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>existingAcl</code> - List<AclEntry> existing ACL</dd>
<dt><span class="strong">Returns:</span></dt><dd>List<AclEntry> new ACL</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="mergeAclEntries(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeAclEntries</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.138">mergeAclEntries</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                                                             <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)
                                                                      throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Merges the entries of the ACL spec into the existing ACL.  If necessary,
 recalculates the mask entries.  If necessary, default entries may be
 inferred by copying the permissions of the corresponding access entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>existingAcl</code> - List<AclEntry> existing ACL</dd><dd><code>inAclSpec</code> - List<AclEntry> ACL spec containing entries to merge</dd>
<dt><span class="strong">Returns:</span></dt><dd>List<AclEntry> new ACL</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="replaceAclEntries(java.util.List, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAclEntries</h4>
<pre>public static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.200">replaceAclEntries</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;existingAcl,
                                                               <a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;inAclSpec)
                                                                        throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Completely replaces the ACL with the entries of the ACL spec.  If
 necessary, recalculates the mask entries.  If necessary, default entries
 are inferred by copying the permissions of the corresponding access
 entries.  Replacement occurs separately for each of the access ACL and the
 default ACL.  If the ACL spec contains only access entries, then the
 existing default entries are retained.  If the ACL spec contains only
 default entries, then the existing access entries are retained.  If the ACL
 spec contains both access and default entries, then both are replaced.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>existingAcl</code> - List<AclEntry> existing ACL</dd><dd><code>inAclSpec</code> - List<AclEntry> ACL spec containing replacement entries</dd>
<dt><span class="strong">Returns:</span></dt><dd>List<AclEntry> new ACL</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="buildAndValidateAcl(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildAndValidateAcl</h4>
<pre>private static&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.272">buildAndValidateAcl</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder)
                                                                           throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Builds the final list of ACL entries to return by trimming, sorting and
 validating the ACL entries that have been added.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aclBuilder</code> - ArrayList<AclEntry> containing entries to build</dd>
<dt><span class="strong">Returns:</span></dt><dd>List<AclEntry> unmodifiable, sorted list of ACL entries</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="calculateMasks(java.util.List, java.util.EnumMap, java.util.EnumSet, java.util.EnumSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateMasks</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.341">calculateMasks</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumMap.html?is-external=true" title="class or interface in java.util">EnumMap</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope,org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;providedMask,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope&gt;&nbsp;maskDirty,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/util/EnumSet.html?is-external=true" title="class or interface in java.util">EnumSet</a>&lt;org.apache.hadoop.fs.permission.AclEntryScope&gt;&nbsp;scopeDirty)
                            throws <a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></pre>
<div class="block">Calculates mask entries required for the ACL.  Mask calculation is performed
 separately for each scope: access and default.  This method is responsible
 for handling the following cases of mask calculation:
 1. Throws an exception if the caller attempts to remove the mask entry of an
   existing ACL that requires it.  If the ACL has any named entries, then a
   mask entry is required.
 2. If the caller supplied a mask in the ACL spec, use it.
 3. If the caller did not supply a mask, but there are ACL entry changes in
   this scope, then automatically calculate a new mask.  The permissions of
   the new mask are the union of the permissions on the group entry and all
   named entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aclBuilder</code> - ArrayList<AclEntry> containing entries to build</dd><dd><code>providedMask</code> - EnumMap<AclEntryScope, AclEntry> mapping each scope to
   the mask entry that was provided for that scope (if provided)</dd><dd><code>maskDirty</code> - EnumSet<AclEntryScope> which contains a scope if the mask
   entry is dirty (added or deleted) in that scope</dd><dd><code>scopeDirty</code> - EnumSet<AclEntryScope> which contains a scope if any entry
   is dirty (added or deleted) in that scope</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hdfs/protocol/AclException.html" title="class in org.apache.hadoop.hdfs.protocol">AclException</a></code> - if validation fails</dd></dl>
</li>
</ul>
<a name="copyDefaultsIfNeeded(java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>copyDefaultsIfNeeded</h4>
<pre>private static&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hdfs/server/namenode/AclTransformation.html#line.393">copyDefaultsIfNeeded</a>(<a href="https://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.permission.AclEntry&gt;&nbsp;aclBuilder)</pre>
<div class="block">Adds unspecified default entries by copying permissions from the
 corresponding access entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aclBuilder</code> - ArrayList<AclEntry> containing entries to build</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AclTransformation.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclStorage.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hdfs/server/namenode/AclTransformation.ValidatedAclSpec.html" title="class in org.apache.hadoop.hdfs.server.namenode"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hdfs/server/namenode/AclTransformation.html" target="_top">Frames</a></li>
<li><a href="AclTransformation.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
